{"mappings":"oeAAAA,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAWH,SAASC,cAAc,YAIxC,IAAIG,EAEJF,EAAMG,iBAAiB,QAASC,GAChCH,EAASE,iBAAiB,QAASC,GACnCP,EAAKM,iBAAiB,UA4BtB,SAAkBE,GAChBA,EAAMC,iBACNC,IACAC,aAAaC,WArCU,uBAsCvBJ,EAAMK,cAAcC,WA9BtB,MAAMP,EAAqBQ,EAAEC,UAI7B,WACEX,EAAc,CACZY,MAAO,GAAGd,EAAMe,QAChBC,QAAS,GAAGf,EAASc,SAEvBP,aAAaS,QAjBU,sBAiBgBC,KAAKC,UAAUjB,MATN,KAYlD,SAASK,IACP,MAAMa,EAAYZ,aAAaa,QArBR,wBAqBqC,GAC5D,IACE,MAAMC,EAAiBJ,KAAKK,MAAMH,GAClCI,QAAQC,IAAIH,GACRF,IACFpB,EAAMe,MAAQO,EAAeR,MAC7Bb,EAASc,MAAQO,EAAeN,SAElC,MAAOU,GACPF,QAAQC,IAAI,iBApBhBlB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { _throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst input = document.querySelector('input');\nconst textarea = document.querySelector('textarea');\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nlet objectValue;\n\ninput.addEventListener('input', throttleLocalInput);\ntextarea.addEventListener('input', throttleLocalInput);\nform.addEventListener('submit', onSubmit);\n\nconst throttleLocalInput = _.throttle(localInput, 500);\n\nobjectParse();\n\nfunction localInput() {\n  objectValue = {\n    email: `${input.value}`,\n    message: `${textarea.value}`,\n  };\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectValue));\n}\n\nfunction objectParse() {\n  const dataLocal = localStorage.getItem(LOCALSTORAGE_KEY) || '';\n  try {\n    const dataLocalParse = JSON.parse(dataLocal);\n    console.log(dataLocalParse);\n    if (dataLocal) {\n      input.value = dataLocalParse.email;\n      textarea.value = dataLocalParse.message;\n    }\n  } catch (error) {\n    console.log('parse ERROR!');\n  }\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  objectParse();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n  event.currentTarget.reset();\n}\n"],"names":["parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$input","$945622fd0f572e60$var$textarea","$945622fd0f572e60$var$objectValue","addEventListener","$945622fd0f572e60$var$throttleLocalInput","event","preventDefault","$945622fd0f572e60$var$objectParse","localStorage","removeItem","currentTarget","reset","_","throttle","email","value","message","setItem","JSON","stringify","dataLocal","getItem","dataLocalParse","parse","console","log","error"],"version":3,"file":"03-feedback.d59c2da5.js.map"}